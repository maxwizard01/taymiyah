<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Quadratic Equation Quiz</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: linear-gradient(135deg,#42275a,#734b6d);
    min-height: 100vh;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 20px;
}

.card {
    background: #fff;
    max-width: 520px;
    width: 100%;
    padding: 25px;
    border-radius: 15px;
    text-align: center;
}

h2 { margin-top: 0; }

#question {
    font-size: 1.6rem;
    margin: 20px 0;
}

.options {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(120px,1fr));
    gap: 10px;
}

button {
    padding: 12px;
    border: none;
    background: #42275a;
    color: #fff;
    border-radius: 8px;
    cursor: pointer;
}

button:hover {
    background: #2f1b3f;
}

#feedback {
    margin-top: 15px;
    font-weight: bold;
}

.correct { color: green; }
.wrong { color: red; }

#steps {
    margin-top: 15px;
    background: #f4f4f4;
    padding: 10px;
    display: none;
}
</style>
</head>

<body>

<div class="card">
<h2>üìò Solve the Quadratic Equation</h2>

<p id="question"></p>

<div class="options" id="options"></div>

<p id="feedback"></p>
<div id="steps"></div>
</div>

<script>
let correctRoots = [];

function rand(min,max){
    return Math.floor(Math.random()*(max-min+1))+min;
}

function generateQuadratic() {
    // Step 1: generate roots
    let r1 = rand(-5,5);
    let r2 = rand(-5,5);
    while (r1 === 0) r1 = rand(-5,5);
    while (r2 === 0) r2 = rand(-5,5);

    // Step 2: optional leading coefficient
    let a = rand(1,3);

    // Step 3: build coefficients
    let b = -a * (r1 + r2);
    let c = a * r1 * r2;

    correctRoots = [r1, r2].sort((x,y)=>x-y);

    let equation =
        `${a === 1 ? "" : a}x¬≤ ${b < 0 ? "- " + Math.abs(b) : "+ " + b}x ` +
        `${c < 0 ? "- " + Math.abs(c) : "+ " + c} = 0`;

    // Step-by-step solution
    let steps = `
        <b>Step 1:</b> ${equation}<br>
        <b>Step 2:</b> Factorize<br>
        <b>Step 3:</b> (${a === 1 ? "" : a})(x - ${r1})(x - ${r2}) = 0<br>
        <b>Step 4:</b> x = ${r1} or x = ${r2}
    `;

    return { equation, steps };
}

function generateQuestion() {
    document.getElementById("feedback").textContent = "";
    document.getElementById("steps").style.display = "none";

    let data = generateQuadratic();
    document.getElementById("question").textContent =
        "Solve: " + data.equation;

    let options = new Set();
    options.add(`x = ${correctRoots[0]}, ${correctRoots[1]}`);

    while (options.size < 4) {
        let f1 = rand(-5,5);
        let f2 = rand(-5,5);
        options.add(`x = ${f1}, ${f2}`);
    }

    document.getElementById("options").innerHTML =
        [...options].sort(()=>Math.random()-0.5)
        .map(o=>`<button onclick="check('${o}',\`${data.steps}\`)">${o}</button>`)
        .join("");
}

function check(choice,steps) {
    let f = document.getElementById("feedback");
    let s = document.getElementById("steps");

    let correct = `x = ${correctRoots[0]}, ${correctRoots[1]}`;

    if (choice === correct) {
        f.textContent = "‚úÖ Correct!";
        f.className = "correct";
    } else {
        f.textContent = "‚ùå Wrong";
        f.className = "wrong";
    }

    s.innerHTML = steps;
    s.style.display = "block";

    setTimeout(generateQuestion, 2500);
}

generateQuestion();
</script>

</body>
</html>
